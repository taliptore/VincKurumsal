@model 	AracBilgisi

@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="card">
	<div class="card-header">
		<h6 class="mb-0">Araç Ekle</h6>
	</div>

	<form asp-action="Create" class="wizard-form steps-validation" enctype="multipart/form-data"  >
		<div asp-validation-summary="ModelOnly" class="text-danger"></div>
		<h6>Katagori Seçimi</h6>
		<fieldset>
			<div class="row">
				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Marka:</label>
						@*<select asp-for="AracMarkaKOD" class="form-select" asp-items="ViewBag.AracMarkaId"></select>*@
						
							<select asp-for="AracMarkaKOD" asp-items="ViewBag.AracMarkaId"
							
										class="form-control select select2-hidden-accessible"
								data-select2-id="AracMarkaKOD" tabindex="-1" aria-hidden="true">

							</select>
							
						
					</div>
				</div>

				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Yıl:</label>
						<select asp-for="Yil" asp-items="ViewBag.Yil"
				class="form-control select select2-hidden-accessible"
				data-select2-id="Yil" tabindex="-1" aria-hidden="true">
						</select>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Model:</label>
					
						<select asp-for="AracModelKOD" asp-items="ViewBag.AracModelId"
							class="form-control select select2-hidden-accessible"
		data-select2-id="AracModelKOD" tabindex="-1" aria-hidden="true">
						</select>

					</div>
				</div>

				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Yakıt Tipi:</label>
						<select asp-for="YakitTipiId" class="form-select" asp-items="ViewBag.YakitTipiId"></select>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Kasa Tipi:</label>
						<select asp-for="KasaTipiId" class="form-select" asp-items="ViewBag.KasaTipiId"></select>


					</div>
				</div>

				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Vites Tipi:</label>
						<select asp-for="VitesTipId" class="form-select" asp-items="ViewBag.VitesTipId"></select>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Araç Rengi:</label>
						<select asp-for="AracRenkId" class="form-select" asp-items="ViewBag.AracRenkId"></select>



					</div>
				</div>

				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Araç Durumu:</label>
						<select asp-for="AracDurumId" class="form-select" asp-items="ViewBag.AracDurumId"></select>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Kimden:</label>
						<select asp-for="KimdenId" class="form-select" asp-items="ViewBag.KimdenId"></select>



					</div>
				</div>

				<div class="col-lg-6">
					
						
						<div class="mb-3">
							<label class="form-label">Detay Bilgi </label>
							<div class="form-group" >
								Garanti Varmı? <input class="form" asp-for="Garanti" />
								 Ağır Hasar Kaydı Var Mı?<input class="form" asp-for="AgirHararKayitliMi" />
								Takas Olarak Kullanmayı Düşünüyor Musunuz?<input class="form" asp-for="Takasli" />
						</div>
							
							</div>
						
						 
					
				</div>
			</div>
		</fieldset>

		<h6>İlan Açıklma</h6>
		<fieldset>
			<div class="row">
				<div class="col-lg-12">
					<div class="mb-3">
						<label class="form-label">Başlık: <span class="text-danger">*</span></label>
						<input type="text" asp-for="Baslik" placeholder="Başlık Yazınız" class="form-control required">

					</div>
				</div>

				<div class="col-lg-12">
					<div class="mb-3">
						<label class="form-label">Açiklama: <span class="text-danger">*</span></label>
						<textarea type="text" rows="5" asp-for="Aciklama" placeholder="Açıklama Yazınız." class="form-control required"></textarea>

					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-4">
					<div class="mb-3">
						<label class="form-label">Hasar Kaydı Varsa Doldurunuz: </label>
						<textarea type="text" rows="5" asp-for="HasarKaydiAciklama" placeholder="Hasar Kaydı Varsa Doldurunuz Yoksa Boş Bırakabilirsiniz." class="form-control"></textarea>

					</div>
				</div>

				<div class="col-lg-4">
					<div class="mb-3">
						<label class="form-label">Araç Değişen Bilgileri Varsa Doldurunuz: </label>
						<textarea type="text" rows="5" asp-for="DegisenAciklama" placeholder=" Araç Değişen Bilgileri Varsa Doldurunuz Yoksa Boş Bırakabilirsiniz." class="form-control "></textarea>

					</div>
				</div>
				<div class="col-lg-4">
					<div class="mb-3">
						<label class="form-label">Araç Boya Durmunu Yazınız: </label>
						<textarea type="text" rows="5" asp-for="BoyaAciklama" placeholder="Araç Boya Durmunu Yazınız Yoksa Boş Bırakabilirsiniz." class="form-control"></textarea>

					</div>
				</div>
			</div>

		</fieldset>

		<h6>İlan Detay</h6>
		<fieldset>
			<div class="row">
				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Araç KiloMetresi: <span class="text-danger">*</span></label>
						<input type="number" asp-for="KM" placeholder="KM Giriniz" class="form-control required">

					</div>
				</div>

				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Fiyat: <span class="text-danger">*</span></label>
						<input type="number" asp-for="Fiyat" placeholder="Fiyat Giriniz" class="form-control required">
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">İlan İletişim Numarası: <span class="text-danger">*</span></label>
						<input type="tel" asp-for="ilanCep" value="@ViewData["Tel"]" placeholder="İletişim Numarası Griniz" class="form-control required">

					</div>
				</div>

			@*	<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">Fiyat: <span class="text-danger">*</span></label>
						<input type="text" asp-for="Fiyat" placeholder="Fiyat Giriniz" class="form-control required">
					</div>
				</div>*@
			</div>

			<div class="row">
				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">İl: <span class="text-danger">*</span></label>
						<select asp-for="SehirilBilgisiilKOD" class="form-control" asp-items="ViewBag.SehirilBilgisiId"></select>

					</div>
				</div>

				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">İlçe: <span class="text-danger">*</span></label>
						<select asp-for="SehirilceBilgisiilceKOD" class="form-control" asp-items="ViewBag.SehirilceBilgisiId"></select>
					</div>
				</div>
			</div>

			 
		</fieldset>

		<h6>Araç Resimleri</h6>
		<fieldset>
			<div class="row">
				

				<div class="col-lg-12">


					<div class="card">
						<div class="card-header">
							<h5 class="mb-0">Resim Yükle Resim Ölcüsü:720x480</h5>
						</div>

						<div class="card-body">
							<p class="mb-3"> Not:Jpg, Png resim formatı yükleye bilirsiniz. En fazla Dosya Boyutu 2Mb </p>

							<p class="fw-semibold">Araç Resim Yükleme</p>
							<input type="file" multiple="multiple" name="resim" class="file-input" data-show-upload="false" data-show-caption="true" data-show-preview="true">
						</div>
						 
					</div>
				</div>
			</div>
		</fieldset>

		<h6>İlanı Yayınla</h6>
		<fieldset>
			<div class="row">
				<div class="col-lg-6">
					<div class="mb-3">
						<label class="form-label">İlanı Yayınla</label>
						<input asp-for="Durum" class="form-check" /> 
						
					</div>
				</div>

				 
			</div>

			 
		</fieldset>
	</form>
</div>



@section Scripts {
	<script src="~/assets/js/vendor/forms/wizards/steps.min.js"></script>
	<script src="~/assets/js/vendor/forms/validation/validate.min.js"></script>
	<script src="~/assets/demo/pages/form_wizard.js"></script>
    <script src="~/assets/demo/pages/form_select2.js"></script>
	<script src="~/assets/js/vendor/forms/selects/select2.min.js"></script>
	<script src="~/assets/js/vendor/uploaders/fileinput/fileinput.min.js"></script>
	<script src="~/assets/js/vendor/uploaders/fileinput/plugins/sortable.min.js"></script>
	<script src="~/assets/demo/pages/uploader_bootstrap.js"></script>

	<script>
		$(function () {
			$('#AracMarkaKOD').change(function () {
				var id = $('#AracMarkaKOD').val();
				$.ajax({
					url: '/AracBilgisis/AracModelGetir',
					data: { id },
					type: "Post",
					dataType: "Json",
					success: function (data) {
						//if (data.length > 0) { $('#altmenu').show(); }
						//else { $('#altmenu').hide(); }

						$('#AracModelKOD').empty();

						for (var i = 0; i < data.length; i++) {
							//alert(data[i]);
							// console.log(data[i]);
							$('#AracModelKOD').append("<option value ='" + data[i].value + "'>"
								+ data[i].text + "</option>");
						}
					}
				})

				//alert(id);
			})

			$('#AracModelKOD').change(function () {
				var model = $("#AracModelKOD option:selected").text();
		 
				var kasatipID=10;
				var varmi=-1;
				$("#KasaTipiId > option").each(function () {
					//var ara = $.contains(this.text, modely);
					//model.contains(this.text);
					//$.model.contains(this.text.toUpperCase());
					 varmi=model.search(this.text.toUpperCase());
					console.log(this.text.toUpperCase() + ' ' + this.value + ' ' + model + ' snc' + model.search(this.text.toUpperCase()));
					if(varmi>0)	
					{
						kasatipID = this.value;

						$('#KasaTipiId').val(kasatipID);
					} else { $('#KasaTipiId').val(kasatipID); }
					
				});

				 

				//alert(model);
			})


			$('#SehirilBilgisiilKOD').change(function () {
				var id = $('#SehirilBilgisiilKOD').val();
				$.ajax({
					url: '/AracBilgisis/ilcegetirGetir',
					data: { id },
					type: "Post",
					dataType: "Json",
					success: function (data) {
						//if (data.length > 0) { $('#altmenu').show(); }
						//else { $('#altmenu').hide(); }

						$('#SehirilceBilgisiilceKOD').empty();

						for (var i = 0; i < data.length; i++) {
							//alert(data[i]);
							// console.log(data[i]);
							$('#SehirilceBilgisiilceKOD').append("<option value ='" + data[i].value + "'>"
								+ data[i].text + "</option>");
						}
					}
				})

				//alert(id);
			})

		})
	</script>
	

    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
